# 类型、操作符号和表达式.

变量和常量，程序中的基础数据对象。声明，列出将要用到的变量，说明变量的状态，以及初始值。操作符，决定对变量和常量的操作。表达式，利用变量和常量生成新值。对象的类型决定了其值的可能性，以及可接受的操作。

## 变量名

变量名可由数字、字母和“\_”组成。第一个字母必须是字母或“\_”，标准库一般使用使用“\_”所谓第一个字母，所以尽量不要作为自命名变量第一个字母。变量名区分大小写。

## 数据类型和大小

1 Byte = 8 Bits

1 KB = 1024 Bytes

1 MB = 1024 KB

1 GB = 1024 MB

基础类型：

-   `char`：字符。一个字节（8bit）。
-   `short`：短整型。2个字节（本机）。
-   `int`：整型。4个字节（本机）。
-   `float`：浮点型。4个字节（本机）。
-   `double`：双精度浮点型。8个字节（本机）。

可用`short`和`long`修饰`int`类型：`short int`，`long int`。此处的`int`可省略。他们所占内存的大小关系是： `long` >= `int` >=`short`，具体取值范围由系统决定。本机上的大小为16Short, 32Int, 64Long。

可使用`singed`和`unsigned`修饰`char`或整型（int short long）。以char为例，一个字符占8bit，如果为signed，其取值范围为-128 - 127；如果为unsigned，取值范围则为0 - 255。字符默认是signed，还是unsigned，由系统决定，但可打印字符都是正数。

可使用`long`修饰`double`类型，所占内存大小由系统决定，原则为`long dounle` >= `double` >= `float`。本机上的大小为32Float、64Double、128Double_Float。

limits.h和float.h标准库中定义了这些类型取值范围的符号常量。

[ex2-1](ex/2-1.c)：编写程序打印有符号signed和无符号unsigned的char、short、int和long类型的取值范围。先使用标准库，再手动计算。计算不同浮点型数据的取值范围？？

## 常量

**整型常量（如1）的默认类型为int。**  如需指定类型，可添加后缀，l或L表示long，u或L表示unsigned，ul或UL表示unsigned long。

**浮点型常量（如123.4或1e-2）的默认类型为double。** 如需指定类型，可添加后缀，f或F表示float，l或L表示double float。

整数常量可用8进制和16进制表示。前置0表示8进制，前置0x或0X表示16进制，如31用8进制表示为037，用16进制表示为0x1F或0x1f。8进制和16进制常量后也可跟U和L，分别表示unsiged和long型。

**字符常量** 写在单引号内，如`'a'`。其实质是代表ASCII码数字常量，如`0`的ASCII的值为48。在程序中用字符常量，而非其数值表示，通常是为了易读，`0`和0完全没关系。空字符`\0`的数值为0。字符常量参与数学运算的方式与整数完全相同，不过通常用来与其它字符常量做比较。

特殊的转义字符使用转义方式书写，如`\n`（换行字符）。任意的整数都可用字符常量表示，如

-   `'\0oo'`，其中oo取值范围为0...7。
-   `'\xhh'`，其中hh的取值为（0...9, a...f, A...F）。

```c
#define VTAB '\013' /*垂直制表符*/
#define BELL '\007' /*响铃字符*/

/*对应的16进制表示为：*/

#define VTAB '\xb' /*垂直制表符*/
#define BELL '\x7' /*响铃字符*/
```

完整的转义字符表：

| 字符     | 含义        | 字符     | 含义    |
| :----- | :-------- | :----- | :---- |
| `\a`   | 响铃字符      | `\b`   | 后退字符  |
| `\f`   | formfeed? | `\n`   | 换行字符  |
| `\r`   | 回车字符      | `\t`   | 水平制表符 |
| `\v`   | 垂直制表符     | `\\`   | 反斜线   |
| `\?`   | 问号        | `\'`   | 单引号   |
| `\"`   | 双引号       | `\0oo` | 8进制数字 |
| `\xhh` | 16进制数字    |        |       |

**常量表达** 为仅衍生出常量的表达式。其值在编译时计算，而不是在运行时计算。如：

```c
#define MAXLINE 1000
char line[MAXLINE + 1]
// 或
#define LEAP 1 /* 此年是否闰年 */
int days[31+28+LEAP+31+30+31+30+31+31+30+31+30+31];
```

**字符串常量** 由0个或多个字符组成，被双引号包裹。如`"this is a string"`。双引号并不是字符串常量的一部分，只是起分割作用，使用转义字符的方式与转义字符相同。字符串常量可在编译时合并，如：

```c
"hello, " "world"
```

此特点可用来将过长的字符分行写，或写在不同源文件中？。

实际上，字符串常量是字符数组。计算机内部，字符串常量所代表的字符数组最后一个元素是`\0`。所以，所占内存大小还要加上一个`\0`字符的大小。可以得出，字符串长度没有限制，要得出一个字符串的长度，需将其整个扫描一遍。如下面定义的strlen(s)函数：

```c
/*计算字符串长度*/
int strlen(char s[]){
	int i = 0;
	while(s[i]!='\0'){
		i++;
	}
	return i;
}
```

strlen及其其它字符串操作函数都定义在标准库string.h中。

**枚举常量** 包含一组整数常量。默认第一个元素值为0，依次递增1，如`enum boolean{NO, YES}`中，NO为0，YES为1。如果其中一个元素指定值，紧随的元素值依次递增1。如：

```c
enum escapes {
	BELL='\a', BACKSPACE='\b', TAB='\t',NEWLINE='\n', VTAB='\v', RETURN='\r'
};

enum months {
	JAN=1,FEB,MAR,APR, MAY,JUN,JUL,AUG,SEP,OCT,NOV,DEC
};
/*FEB=2, MAR=3,....*/
```

不同枚举型中的元素名需不同，同一个枚举型中的元素值可重复。

较`#define`而言，声明常量时，枚举型更方便。不过，编译器并不检测枚举型中的元素值是否合法。然而，在错误检测方面枚举型还是更胜一筹。

## 声明

## 数学运算

## 关系和逻辑运算符

## 类型转换

## 自增和自减操作符

## 位操作符

## 赋值操作符和表达式

## 条件语句

## 操作符优先级
